# set -o pipefail && mkdir -p exp/ExpX/Output/hotword-decoder/decode-data-hotword/ctm/score_17/ && lattice-1best --lm-scale=17 "ark:gunzip -c exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.1.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.2.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.3.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.4.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.5.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.6.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.7.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.8.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.9.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.10.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.11.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.12.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.13.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.14.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.15.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.16.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.17.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.18.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.19.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.20.gz |" ark:- | lattice-align-words exp/ExpX/Output/hotword-decoder/lang/phones/word_boundary.int /home3/yachao001/home/asr/w2021/offline-hotwords-asr-test-v2-bak-bak-ASR-4/exp/msf-scdf-cs-june2021-prune/tdnnf-biased/final.mdl ark:- ark:- | nbest-to-ctm --frame-shift=0.03 --print-silence=false ark:- - | utils/int2sym.pl -f 5 exp/ExpX/Output/hotword-decoder/lang/words.txt | cat > exp/ExpX/Output/hotword-decoder/decode-data-hotword/ctm/score_17/word.ctm 
# Started at Fri Aug 27 14:00:30 +08 2021
#
lattice-align-words exp/ExpX/Output/hotword-decoder/lang/phones/word_boundary.int /home3/yachao001/home/asr/w2021/offline-hotwords-asr-test-v2-bak-bak-ASR-4/exp/msf-scdf-cs-june2021-prune/tdnnf-biased/final.mdl ark:- ark:- 
nbest-to-ctm --frame-shift=0.03 --print-silence=false ark:- - 
lattice-1best --lm-scale=17 'ark:gunzip -c exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.1.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.2.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.3.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.4.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.5.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.6.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.7.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.8.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.9.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.10.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.11.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.12.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.13.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.14.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.15.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.16.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.17.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.18.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.19.gz exp/ExpX/Output/hotword-decoder/decode-data-hotword/lat.20.gz |' ark:- 
LOG (lattice-1best[5.5.671~1-e5a5a]:main():lattice-1best.cc:103) Done converting 1176 to best path, 0 had errors.
LOG (lattice-align-words[5.5.671~1-e5a5a]:main():lattice-align-words.cc:125) Successfully aligned 1176 lattices; 0 had errors.
LOG (nbest-to-ctm[5.5.671~1-e5a5a]:main():nbest-to-ctm.cc:119) Converted 1176 linear lattices to ctm format; 0 had errors.
# Accounting: time=1 threads=1
# Ended (code 0) at Fri Aug 27 14:00:31 +08 2021, elapsed time 1 seconds
